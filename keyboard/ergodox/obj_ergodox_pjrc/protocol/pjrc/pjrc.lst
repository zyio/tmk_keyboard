   1               		.file	"pjrc.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.keyboard_leds,"ax",@progbits
  12               	keyboard_leds:
  13               	.LFB1:
  14               		.file 1 "../../protocol/pjrc/pjrc.c"
   1:../../protocol/pjrc/pjrc.c **** /*
   2:../../protocol/pjrc/pjrc.c **** Copyright 2011 Jun Wako <wakojun@gmail.com>
   3:../../protocol/pjrc/pjrc.c **** 
   4:../../protocol/pjrc/pjrc.c **** This program is free software: you can redistribute it and/or modify
   5:../../protocol/pjrc/pjrc.c **** it under the terms of the GNU General Public License as published by
   6:../../protocol/pjrc/pjrc.c **** the Free Software Foundation, either version 2 of the License, or
   7:../../protocol/pjrc/pjrc.c **** (at your option) any later version.
   8:../../protocol/pjrc/pjrc.c **** 
   9:../../protocol/pjrc/pjrc.c **** This program is distributed in the hope that it will be useful,
  10:../../protocol/pjrc/pjrc.c **** but WITHOUT ANY WARRANTY; without even the implied warranty of
  11:../../protocol/pjrc/pjrc.c **** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  12:../../protocol/pjrc/pjrc.c **** GNU General Public License for more details.
  13:../../protocol/pjrc/pjrc.c **** 
  14:../../protocol/pjrc/pjrc.c **** You should have received a copy of the GNU General Public License
  15:../../protocol/pjrc/pjrc.c **** along with this program.  If not, see <http://www.gnu.org/licenses/>.
  16:../../protocol/pjrc/pjrc.c **** */
  17:../../protocol/pjrc/pjrc.c **** 
  18:../../protocol/pjrc/pjrc.c **** #include <stdint.h>
  19:../../protocol/pjrc/pjrc.c **** #include "usb_keyboard.h"
  20:../../protocol/pjrc/pjrc.c **** #include "usb_mouse.h"
  21:../../protocol/pjrc/pjrc.c **** #include "usb_extra.h"
  22:../../protocol/pjrc/pjrc.c **** #include "host_driver.h"
  23:../../protocol/pjrc/pjrc.c **** #include "pjrc.h"
  24:../../protocol/pjrc/pjrc.c **** 
  25:../../protocol/pjrc/pjrc.c **** 
  26:../../protocol/pjrc/pjrc.c **** /*------------------------------------------------------------------*
  27:../../protocol/pjrc/pjrc.c ****  * Host driver
  28:../../protocol/pjrc/pjrc.c ****  *------------------------------------------------------------------*/
  29:../../protocol/pjrc/pjrc.c **** static uint8_t keyboard_leds(void);
  30:../../protocol/pjrc/pjrc.c **** static void send_keyboard(report_keyboard_t *report);
  31:../../protocol/pjrc/pjrc.c **** static void send_mouse(report_mouse_t *report);
  32:../../protocol/pjrc/pjrc.c **** static void send_system(uint16_t data);
  33:../../protocol/pjrc/pjrc.c **** static void send_consumer(uint16_t data);
  34:../../protocol/pjrc/pjrc.c **** 
  35:../../protocol/pjrc/pjrc.c **** static host_driver_t driver = {
  36:../../protocol/pjrc/pjrc.c ****         keyboard_leds,
  37:../../protocol/pjrc/pjrc.c ****         send_keyboard,
  38:../../protocol/pjrc/pjrc.c ****         send_mouse,
  39:../../protocol/pjrc/pjrc.c ****         send_system,
  40:../../protocol/pjrc/pjrc.c ****         send_consumer
  41:../../protocol/pjrc/pjrc.c **** };
  42:../../protocol/pjrc/pjrc.c **** 
  43:../../protocol/pjrc/pjrc.c **** host_driver_t *pjrc_driver(void)
  44:../../protocol/pjrc/pjrc.c **** {
  45:../../protocol/pjrc/pjrc.c ****     return &driver;
  46:../../protocol/pjrc/pjrc.c **** }
  47:../../protocol/pjrc/pjrc.c **** 
  48:../../protocol/pjrc/pjrc.c **** static uint8_t keyboard_leds(void) {
  15               		.loc 1 48 0
  16               		.cfi_startproc
  17               	/* prologue: function */
  18               	/* frame size = 0 */
  19               	/* stack size = 0 */
  20               	.L__stack_usage = 0
  49:../../protocol/pjrc/pjrc.c ****     return usb_keyboard_leds;
  21               		.loc 1 49 0
  22 0000 8091 0000 		lds r24,usb_keyboard_leds
  50:../../protocol/pjrc/pjrc.c **** }
  23               		.loc 1 50 0
  24 0004 0895      		ret
  25               		.cfi_endproc
  26               	.LFE1:
  28               		.section	.text.send_consumer,"ax",@progbits
  30               	send_consumer:
  31               	.LFB5:
  51:../../protocol/pjrc/pjrc.c **** 
  52:../../protocol/pjrc/pjrc.c **** static void send_keyboard(report_keyboard_t *report)
  53:../../protocol/pjrc/pjrc.c **** {
  54:../../protocol/pjrc/pjrc.c ****     usb_keyboard_send_report(report);
  55:../../protocol/pjrc/pjrc.c **** }
  56:../../protocol/pjrc/pjrc.c **** 
  57:../../protocol/pjrc/pjrc.c **** static void send_mouse(report_mouse_t *report)
  58:../../protocol/pjrc/pjrc.c **** {
  59:../../protocol/pjrc/pjrc.c **** #ifdef MOUSE_ENABLE
  60:../../protocol/pjrc/pjrc.c ****     usb_mouse_send(report->x, report->y, report->v, report->h, report->buttons);
  61:../../protocol/pjrc/pjrc.c **** #endif
  62:../../protocol/pjrc/pjrc.c **** }
  63:../../protocol/pjrc/pjrc.c **** 
  64:../../protocol/pjrc/pjrc.c **** static void send_system(uint16_t data)
  65:../../protocol/pjrc/pjrc.c **** {
  66:../../protocol/pjrc/pjrc.c **** #ifdef EXTRAKEY_ENABLE
  67:../../protocol/pjrc/pjrc.c ****     usb_extra_system_send(data);
  68:../../protocol/pjrc/pjrc.c **** #endif
  69:../../protocol/pjrc/pjrc.c **** }
  70:../../protocol/pjrc/pjrc.c **** 
  71:../../protocol/pjrc/pjrc.c **** static void send_consumer(uint16_t data)
  72:../../protocol/pjrc/pjrc.c **** {
  32               		.loc 1 72 0
  33               		.cfi_startproc
  34               	.LVL0:
  35               	/* prologue: function */
  36               	/* frame size = 0 */
  37               	/* stack size = 0 */
  38               	.L__stack_usage = 0
  73:../../protocol/pjrc/pjrc.c **** #ifdef EXTRAKEY_ENABLE
  74:../../protocol/pjrc/pjrc.c ****     usb_extra_consumer_send(data);
  39               		.loc 1 74 0
  40 0000 0C94 0000 		jmp usb_extra_consumer_send
  41               	.LVL1:
  42               		.cfi_endproc
  43               	.LFE5:
  45               		.section	.text.send_system,"ax",@progbits
  47               	send_system:
  48               	.LFB4:
  65:../../protocol/pjrc/pjrc.c **** #ifdef EXTRAKEY_ENABLE
  49               		.loc 1 65 0
  50               		.cfi_startproc
  51               	.LVL2:
  52               	/* prologue: function */
  53               	/* frame size = 0 */
  54               	/* stack size = 0 */
  55               	.L__stack_usage = 0
  67:../../protocol/pjrc/pjrc.c **** #endif
  56               		.loc 1 67 0
  57 0000 0C94 0000 		jmp usb_extra_system_send
  58               	.LVL3:
  59               		.cfi_endproc
  60               	.LFE4:
  62               		.section	.text.send_mouse,"ax",@progbits
  64               	send_mouse:
  65               	.LFB3:
  58:../../protocol/pjrc/pjrc.c **** #ifdef MOUSE_ENABLE
  66               		.loc 1 58 0
  67               		.cfi_startproc
  68               	.LVL4:
  69 0000 0F93      		push r16
  70               	.LCFI0:
  71               		.cfi_def_cfa_offset 3
  72               		.cfi_offset 16, -2
  73               	/* prologue: function */
  74               	/* frame size = 0 */
  75               	/* stack size = 1 */
  76               	.L__stack_usage = 1
  77 0002 FC01      		movw r30,r24
  60:../../protocol/pjrc/pjrc.c **** #endif
  78               		.loc 1 60 0
  79 0004 0081      		ld r16,Z
  80 0006 2481      		ldd r18,Z+4
  81 0008 4381      		ldd r20,Z+3
  82 000a 6281      		ldd r22,Z+2
  83 000c 8181      		ldd r24,Z+1
  84               	.LVL5:
  85 000e 0E94 0000 		call usb_mouse_send
  86               	.LVL6:
  87               	/* epilogue start */
  62:../../protocol/pjrc/pjrc.c **** 
  88               		.loc 1 62 0
  89 0012 0F91      		pop r16
  90 0014 0895      		ret
  91               		.cfi_endproc
  92               	.LFE3:
  94               		.section	.text.send_keyboard,"ax",@progbits
  96               	send_keyboard:
  97               	.LFB2:
  53:../../protocol/pjrc/pjrc.c ****     usb_keyboard_send_report(report);
  98               		.loc 1 53 0
  99               		.cfi_startproc
 100               	.LVL7:
 101               	/* prologue: function */
 102               	/* frame size = 0 */
 103               	/* stack size = 0 */
 104               	.L__stack_usage = 0
  54:../../protocol/pjrc/pjrc.c **** }
 105               		.loc 1 54 0
 106 0000 0C94 0000 		jmp usb_keyboard_send_report
 107               	.LVL8:
 108               		.cfi_endproc
 109               	.LFE2:
 111               		.section	.text.pjrc_driver,"ax",@progbits
 112               	.global	pjrc_driver
 114               	pjrc_driver:
 115               	.LFB0:
  44:../../protocol/pjrc/pjrc.c ****     return &driver;
 116               		.loc 1 44 0
 117               		.cfi_startproc
 118               	/* prologue: function */
 119               	/* frame size = 0 */
 120               	/* stack size = 0 */
 121               	.L__stack_usage = 0
  46:../../protocol/pjrc/pjrc.c **** 
 122               		.loc 1 46 0
 123 0000 80E0      		ldi r24,lo8(driver)
 124 0002 90E0      		ldi r25,hi8(driver)
 125 0004 0895      		ret
 126               		.cfi_endproc
 127               	.LFE0:
 129               		.data
 132               	driver:
 133 0000 0000      		.word	gs(keyboard_leds)
 134 0002 0000      		.word	gs(send_keyboard)
 135 0004 0000      		.word	gs(send_mouse)
 136 0006 0000      		.word	gs(send_system)
 137 0008 0000      		.word	gs(send_consumer)
 138               		.text
 139               	.Letext0:
 140               		.file 2 "/usr/lib/avr/include/stdint.h"
 141               		.file 3 "../../common/report.h"
 142               		.file 4 "../../common/host_driver.h"
 143               		.file 5 "../../protocol/pjrc/usb_extra.h"
 144               		.file 6 "../../protocol/pjrc/usb_mouse.h"
 145               		.file 7 "../../protocol/pjrc/usb_keyboard.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 pjrc.c
     /tmp/ccz3InxY.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccz3InxY.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccz3InxY.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccz3InxY.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccz3InxY.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccz3InxY.s:12     .text.keyboard_leds:0000000000000000 keyboard_leds
     /tmp/ccz3InxY.s:30     .text.send_consumer:0000000000000000 send_consumer
     /tmp/ccz3InxY.s:47     .text.send_system:0000000000000000 send_system
     /tmp/ccz3InxY.s:64     .text.send_mouse:0000000000000000 send_mouse
     /tmp/ccz3InxY.s:96     .text.send_keyboard:0000000000000000 send_keyboard
     /tmp/ccz3InxY.s:114    .text.pjrc_driver:0000000000000000 pjrc_driver
     /tmp/ccz3InxY.s:132    .data:0000000000000000 driver

UNDEFINED SYMBOLS
usb_keyboard_leds
usb_extra_consumer_send
usb_extra_system_send
usb_mouse_send
usb_keyboard_send_report
__do_copy_data
